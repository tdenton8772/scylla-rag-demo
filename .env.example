# ScyllaDB Cloud API Configuration
# ================================
# Get your API token from: https://cloud.scylladb.com/ -> Settings -> Personal Tokens
SCYLLADB_API_TOKEN=your_api_token_here

# ScyllaDB Cloud IDs
# ==================
# Get Account ID: curl -X GET "https://api.cloud.scylladb.com/account/default" -H "Authorization: Bearer $SCYLLADB_API_TOKEN"
SCYLLADB_ACCOUNT_ID=your_account_id_here

# Get Cluster ID: curl -X GET "https://api.cloud.scylladb.com/account/$SCYLLADB_ACCOUNT_ID/clusters" -H "Authorization: Bearer $SCYLLADB_API_TOKEN"
SCYLLADB_CLUSTER_ID=your_cluster_id_here

# Get DC ID: curl -X GET "https://api.cloud.scylladb.com/account/$SCYLLADB_ACCOUNT_ID/cluster/$SCYLLADB_CLUSTER_ID/dcs" -H "Authorization: Bearer $SCYLLADB_API_TOKEN"
SCYLLADB_DC_ID=your_dc_id_here

# ScyllaDB Connection Settings
# =============================
# Get connection details from ScyllaDB Cloud UI -> Cluster -> Connect tab
# Note: For Cloud, use comma-separated list of node hostnames
SCYLLADB_HOSTS=node-0.your-cluster.clusters.scylla.cloud,node-1.your-cluster.clusters.scylla.cloud,node-2.your-cluster.clusters.scylla.cloud
SCYLLADB_PORT=19042
SCYLLADB_USERNAME=scylla
SCYLLADB_PASSWORD=your_password_here

# Keyspace Configuration for RAG Demo
# ====================================
SCYLLADB_KEYSPACE=rag_demo

# Table Names
# ===========
SCYLLADB_TABLE_DOCUMENTS=documents                     # Uploaded documents (vector search)
SCYLLADB_TABLE_SESSIONS=conversation_sessions          # Short-term memory (recent messages)
SCYLLADB_TABLE_METADATA=document_metadata              # Document tracking
SCYLLADB_TABLE_LONGTERM=long_term_memory               # Long-term conversation memory

# Memory Configuration
# ====================
SHORT_TERM_MAX_MESSAGES=5                              # Recent messages to keep in context
SHORT_TERM_TTL=3600                                    # 1 hour TTL for sessions

# Long-term conversation memory (session-scoped)
LONG_TERM_TOP_K=5                                      # Number of long-term memory results
LONG_TERM_SIMILARITY_THRESHOLD=0.3                     # Minimum similarity (0.0-1.0)

# Document search (uploaded files)
DOC_TOP_K=5                                            # Number of document results
DOC_SIMILARITY_THRESHOLD=0.5                           # Minimum similarity (0.0-1.0)

# Vector Search Configuration
# ============================
# Vector dimension must match your embedding model output
# nomic-embed-text = 768 dimensions (recommended)
# all-minilm-l6-v2 = 384 dimensions
# text-embedding-3-small = 1536 dimensions
VECTOR_DIMENSION=768
SIMILARITY_FUNCTION=COSINE
ANN_LIMIT=10

# LLM Provider Configuration
# ===========================
# Primary provider: ollama (local) or openai (cloud)
LLM_PROVIDER=ollama
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# OpenAI Configuration (alternative provider)
# ===========================================
# Can also use x.ai (Grok) - set OPENAI_BASE_URL=https://api.x.ai/v1
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.1
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_BASE_URL=https://api.openai.com/v1

# Embeddings Configuration
# =========================
# Provider: ollama (local), openai, or huggingface
# Recommended: nomic-embed-text (768 dim, better semantic understanding)
EMBEDDINGS_PROVIDER=ollama
EMBEDDINGS_MODEL=nomic-embed-text
CHUNK_SIZE=300
CHUNK_OVERLAP=100

# Application Configuration
# ==========================
APP_ENV=development
LOG_LEVEL=INFO
DEMO_DATA_PATH=./data
DEMO_OUTPUT_PATH=./output

# Optional Settings
# =================
RATE_LIMIT_RPS=100
ENABLE_METRICS=true
METRICS_PORT=9090

# Advanced Vector Search Settings
# ================================
# ANN multipliers control candidate pool size (1 = no expansion)
DOC_ANN_MULTIPLIER=1                                   # Document search expansion
LONG_ANN_MULTIPLIER=1                                  # Long-term memory expansion
DOC_SURROUNDING_CHUNKS=2                               # Chunks to fetch around matches
